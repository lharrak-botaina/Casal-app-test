<div class="container-fluid p-2">
  <div class="row justify-content-center">
    <h1><strong>Générateur de CV</strong></h1>
  </div>
  <div class="header px-3 pt-3">
    <h2>Photo</h2>
  </div>
  <div class="row">
    <div class="col-12 p-4">
      <mat-slide-toggle color="primary" [(ngModel)]="withPhoto">
        {{ withPhoto ? "Oui" : "Non" }} 
      </mat-slide-toggle>
    </div>
  </div>

  <div class="header px-3 pt-3">
    <h2>Niveau d'études</h2>
  </div>
  <div class="row" *ngIf="levelOfStudy?.level">
    <div class="col-12 col-md-5 m-1">
      <mat-card>
        <mat-card-content>
          <p>{{levelOfStudy?.level | titlecase }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="header px-3 pt-3">
    <h2>Formations</h2>
  </div>
  <div class="row">
    <div
      class="col-12 col-md-5 m-1"
      *ngFor="let education of educations"
    >
      <mat-card
        (click)="onSelectEducation(education)"
        [ngClass]="{ 'card-selected mat-elevation-z4': education?.selected }"
      >
        <span
          [matTooltip]="education?.selected ? 'Supprimer' : 'Ajouter'"
          class="selection"
        >
          <mat-icon>check_circle</mat-icon>
        </span>
        <mat-card-header>
          <mat-card-title>{{ education?.type_formation }}</mat-card-title>
          <mat-card-subtitle>{{ education?.specialty }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Etablissement :</strong> {{education?.institution | titlecase}}</p>
          <p><strong>Certificat / Diplôme : </strong>{{education?.cetificate | titlecase}}</p>
          <p><strong>Date début : </strong>{{education?.start_date | date: "dd-MM-yyyy"}}</p>
          <p><strong>Date fin :</strong> {{education?.end_date | date: "dd-MM-yyyy"}}</p>
          <p><strong>Commentaire :</strong> {{education?.comment}}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="header px-3 pt-3">
    <h2>Expériences professionnelles</h2>
  </div>
  <div class="row">
    <div
      class="col-12 col-md-5 m-1"
      *ngFor="let experience of experiences"
    >
      <mat-card
        (click)="onSelectExperience(experience)"
        [ngClass]="{ 'card-selected mat-elevation-z4': experience?.selected }"
      >
        <span
          [matTooltip]="experience?.selected ? 'Supprimer' : 'Ajouter'"
          class="selection"
        >
          <mat-icon>check_circle</mat-icon>
        </span>
        <mat-card-header>
          <mat-card-title>{{ experience?.function }}</mat-card-title>
          <mat-card-subtitle>{{ experience?.institution }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Type d'expérience : </strong>{{experience?.genre | titlecase}}</p>
          <p><strong>Date début : </strong>{{experience?.start_date | date: "dd-MM-yyyy"}}</p>
          <p><strong>Date fin : </strong>{{experience?.end_date | date: "dd-MM-yyyy"}}</p>
          <p><strong>Commentaire :</strong> {{experience?.comment}}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="header px-3 pt-3">
    <h2>Compétences</h2>
  </div>
  <div class="row">
    <div class="col-12 px-4 py-2">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Compétences techniques</mat-label>
        <mat-select multiple [(ngModel)]="selected_hard_skills">
          <mat-option *ngFor="let Hskill of hard_skills" [value]="Hskill">{{
            Hskill
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-12 px-4 py-2">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Compétences relationnelles</mat-label>
        <mat-select multiple [(ngModel)]="selected_soft_skills">
          <mat-option *ngFor="let Sskill of soft_skills" [value]="Sskill">{{
            Sskill
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <!-- <div class="row">
    <div class="col-12 px-4 py-2">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Compétences essentielles</mat-label>
        <mat-select multiple [(ngModel)]="selected_life_skills">
          <mat-option *ngFor="let Lskill of life_skills" [value]="Lskill">{{
            Lskill
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div> -->
  <div class="row justify-content-center mb-5">
    <button
    mat-raised-button
    color="primary"
    (click)="download()"
  >
     Générer mon CV <mat-icon>file_download</mat-icon>
  </button>
  </div>
</div>