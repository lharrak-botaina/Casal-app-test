<div class="container">
  <button
    mat-icon-button
    matTooltip="Back to detail page"
    matTooltipPosition="right"
    [routerLink]="['./..']"
    class="back--button"
  >
    <mat-icon>keyboard_backspace</mat-icon>
  </button>
  <h2 class="text-center p-2">Modifier l'entreprise</h2>
  <div class="row">
    <div class="col-12">
      <button mat-stroked-button class="mx-1 mb-1" (click)="editPassword()">
        <mat-icon>vpn_key </mat-icon> Changer le mot de passe
      </button>
      <button mat-stroked-button class="mx-1 mb-1" (click)="editLogo()">
        <mat-icon>add_photo_alternate</mat-icon> Changer Logo
      </button>
    </div>
  </div>
  <mat-card class="example-card">
    <h4 class="subtitle"><strong>Informations générales</strong></h4>
    <mat-card-content>
      <form
        id="companyForm"
        [formGroup]="COMPANY_FORM"
        (submit)="COMPANY_FORM.valid && edit()"
        #form="ngForm"
        autocomplete="off"
      >
        <div class="row">
          <div class="col-12 col-md-6">
            <app-text-input
              [formControl]="COMPANY_FORM.controls['name']"
              [label]="'Nom*'"
            ></app-text-input>
          </div>
          <div class="col-12 col-md-6">
            <app-select-input
              [formControl]="COMPANY_FORM.controls['activity_area']"
              [label]="'Secteur d\'activité*'"
              [options]="ACTIVITY_AREA"
            ></app-select-input>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-6">
            <app-text-input
              [formControl]="COMPANY_FORM.controls['address']"
              [label]="'Adresse'"
            ></app-text-input>
          </div>
          <div class="col-12 col-md-6">
            <app-select-input
              [formControl]="COMPANY_FORM.controls['city']"
              [label]="'Ville*'"
              [options]="CITIES"
            ></app-select-input>
          </div>
        </div>
        <ng-container formGroupName="socialMedia">
          <div class="row">
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('socialMedia')['controls'][
                    'facebook'
                  ]
                "
                [label]="'Facebook'"
              ></app-text-input>
            </div>
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('socialMedia')['controls']['twitter']
                "
                [label]="'Twitter'"
              ></app-text-input>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('socialMedia')['controls'][
                    'instagram'
                  ]
                "
                [label]="'Instagram'"
              ></app-text-input>
            </div>
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('socialMedia')['controls'][
                    'linkedIn'
                  ]
                "
                [label]="'Linkedin'"
              ></app-text-input>
            </div>
          </div>
        </ng-container>

        <ng-container formGroupName="person_contacted">
          <h4 class="subtitle"><strong>Personne contactée</strong></h4>
          <div class="row">
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('person_contacted')['controls']['fullname']
                "
                [label]="'Nom et prénom*'"
              ></app-text-input>
            </div>
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('person_contacted')['controls']['email']
                "
                [label]="'Email*'"
              ></app-text-input>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-md-6">
              <app-text-input
                [formControl]="
                  COMPANY_FORM.get('person_contacted')['controls']['phone']
                "
                [label]="'Téléphone*'"
                [type]="'tel'"
              ></app-text-input>
            </div>
          </div>
        </ng-container>
      </form>
    </mat-card-content>
    <mat-card-actions class="submit-button" align="right">
      <button
        mat-raised-button
        type="submit"
        [disabled]="!COMPANY_FORM.valid"
        form="companyForm"
        color="primary"
      >
        Enregistrer
      </button>
    </mat-card-actions>
  </mat-card>
</div>
